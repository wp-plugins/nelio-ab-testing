function nelioab_hmdata(){this.data={};this.max=0}function nelioab_hmdata_for_elem(){this.data=[];this.max=0}nelioab_hmdata.prototype={addDataPoint:function(c,a,e){if(a<0||a==undefined||e<0||e==undefined){return}var b=this.data;var d=false;if(b[c]!=undefined){d=b[c]}if(!d){d=new nelioab_hmdata_for_elem();this.data[c]=d}d.addDataPoint(a,e);if(this.max<d.max){this.max=d.max}},exportDataSet:function(){var c=this.data;var b={};for(var a in this.data){b[a]=c[a].exportDataSet()}return{max:this.max,data:b}},};nelioab_hmdata_for_elem.prototype={addDataPoint:function(a,c){var b=this.data;if(!b[a]){b[a]=[]}if(!b[a][c]){b[a][c]=0}b[a][c]+=(arguments.length<3)?1:arguments[2];if(this.max<b[a][c]){this.max=b[a][c]}},exportDataSet:function(){var d=this.data;var b=[];for(var c in d){if(c===undefined){continue}for(var a in d[c]){if(a===undefined){continue}b.push({x:c,y:a,count:d[c][a]})}}return{max:this.max,data:b}},};function nelioab_selectDatastore(a){if(a<=360){return nelioab_phone_data}else{if(a<=768){return nelioab_tablet_data}else{if(a<=1024){return nelioab_desktop_data}else{return nelioab_hd_data}}}}function nelioab_selectClickDatastore(a){if(a<=360){return nelioab_phone_data_click}else{if(a<=768){return nelioab_tablet_data_click}else{if(a<=1024){return nelioab_desktop_data_click}else{return nelioab_hd_data_click}}}}var nelioab_actual_data;var nelioab_actual_data_click;var nelioab_phone_data=new nelioab_hmdata();var nelioab_tablet_data=new nelioab_hmdata();var nelioab_desktop_data=new nelioab_hmdata();var nelioab_hd_data=new nelioab_hmdata();var nelioab_phone_data_click=new nelioab_hmdata();var nelioab_tablet_data_click=new nelioab_hmdata();var nelioab_desktop_data_click=new nelioab_hmdata();var nelioab_hd_data_click=new nelioab_hmdata();function nelioabStartHeatmapTracking(){nelioab_actual_data=nelioab_selectDatastore(jQuery(window).width());nelioab_actual_data_click=nelioab_selectClickDatastore(jQuery(window).width());var g=jQuery(document);var a=true,d=false,p=true,i=false,o=0,h=0,f=0,m=false,k=false,e=false,j=false;setInterval(function(){if(!k){a=true}},80);var c=setInterval(function(){if(i&&p&&!m&&!k&&!e){m=setInterval(function(){nelioab_actual_data.addDataPoint(o,h,f)},1000);j=setTimeout(function(){if(m&&!k){clearInterval(m);m=false;k=true}},10000)}},150);var n=function(w,t){if(w.pageX==undefined||w.pageY==undefined){return}var x=jQuery(w.target);var v=x.css("padding-left");if(v==undefined){v="0"}var s=x.css("padding-right");if(s==undefined){s="0"}var A=x.css("padding-top");if(A==undefined){A="0"}var y=x.css("padding-bottom");if(y==undefined){y="0"}v=Math.round(v.replace(/[^0-9\.]/g,""));s=Math.round(s.replace(/[^0-9\.]/g,""));A=Math.round(A.replace(/[^0-9\.]/g,""));y=Math.round(y.replace(/[^0-9\.]/g,""));var u=x.width()+v+s;var z=x.height()+A+y;var r=w.pageX-x.offset().left-v;var q=w.pageY-x.offset().top-A;o=x.getFullPath();h=(r/u).toFixed(2);f=(q/z).toFixed(2);if(h==Infinity||h==NaN){h="0.00"}if(f==Infinity||f==NaN){f="0.00"}if(t){nelioab_actual_data_click.addDataPoint(o,h,f)}nelioab_actual_data.addDataPoint(o,h,f)};g.mousemove(function(q){if(e){return}i=true;if(m){clearInterval(m);m=false}if(j){clearTimeout(j);k=false}if(a&&p){n(q,false);a=false}});g.click(function(q){i=true;if(m){clearInterval(m);m=false}if(j){clearTimeout(j);k=false}if(!e){n(q,true)}});g.mouseleave(function(){i=false});g.mouseenter(function(){i=true});jQuery("body").bind("touchstart",function(s){e=true;var r=s.originalEvent.touches;for(var q=0;q<r.length;q++){n(r[q],true)}});jQuery(window).focus(function(){p=true});jQuery(window).blur(function(){p=false;if(m){clearInterval(m);m=false}if(j){clearTimeout(j);k=false}});jQuery(document).bind("byebye",function(r,q){if(q instanceof String&&q.indexOf("#")==0){return}n(r,true);l()});window.onunload=window.onbeforeunload=(function(){l()});var b=false;function l(){if(b){return}b=true;jQuery.ajax({type:"POST",async:false,url:window.location.href,data:{nelioab_send_heatmap_info:"true","phone-data":JSON.stringify(nelioab_phone_data.exportDataSet()),"tablet-data":JSON.stringify(nelioab_tablet_data.exportDataSet()),"desktop-data":JSON.stringify(nelioab_desktop_data.exportDataSet()),"hd-data":JSON.stringify(nelioab_hd_data.exportDataSet()),"phone-data-click":JSON.stringify(nelioab_phone_data_click.exportDataSet()),"tablet-data-click":JSON.stringify(nelioab_tablet_data_click.exportDataSet()),"desktop-data-click":JSON.stringify(nelioab_desktop_data_click.exportDataSet()),"hd-data-click":JSON.stringify(nelioab_hd_data_click.exportDataSet()),"hm-post-id":nelioab__hm_post_id,},})}jQuery(window).resize(function(q){nelioab_actual_data=nelioab_selectDatastore(jQuery(window).width());nelioab_actual_data_click=nelioab_selectClickDatastore(jQuery(window).width())})};